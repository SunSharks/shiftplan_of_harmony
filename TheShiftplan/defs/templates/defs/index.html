{% extends "base.html" %}

{% block content %}
  {% include "header.html" %}
  <div class = "navbar">
    <div class = "navbar item">
      <a href="{% url 'defs:jobtype_def' %}">Jobtypes</a>
    </div>
    <div class = "navbar item">
      <a href="{% url 'defs:subcrew_def' %}">Subcrews</a>
    </div>
    
  </div>    
  <style>
      .dropdown {
        position: relative;
        display: inline-block;
      }
      
      .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        padding: 12px 16px;
        z-index: 1;
      }
      
      .dropdown:hover .dropdown-content {
        display: block;
      }
  </style>


  <div class="file upload">
    <p>Upload User Candidates File</p>
    {% if upload_file %}
      Recently uploaded: {{ upload_file }}
    {% endif %}
    {% if upload_error %}
      {{ upload_error }}
    {% endif %}
    <form method="POST" enctype="multipart/form-data" novalidate>
      {% csrf_token %}
      <p>
        {% for field in upload_file_form %}
          {% if field.errors %}
            <ul class="errorlist">
            {% for error in field.errors %}
              <li>{{ error }}</li>
            {% endfor %}
            </ul>
          {% endif %}
          {{ field.label_tag }} {{ field }}
        {% endfor %}
        <input type="submit" value="Upload File." />
      </p>
    </form>
  </div>

  
  <div class="job_descriptions">
    {% for j in jt_descriptions %}
      <div class="dropdown">
        <span>{{ j.name }}</span>
        <div class="dropdown-content">
          <p>{{ j.description }}</p>
        </div>
      </div>
    {% endfor %}
  </div>


  {% autoescape off %}
      {% comment %} {{ plot_div }} {% endcomment %}
      {% load plotly_dash %}
      <div class="{%plotly_class name='defplot' %}", style="height:100%;width:100%;">
          {% plotly_app name="defplot" ratio=1 %}
      </div>
      
  {% endautoescape %}
{% endblock content %}